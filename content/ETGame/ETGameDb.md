ET中的数据存储
----------------------
现有游戏一般朝着两个方向进化，一个是游戏内容展示和操作要进可能得真实且绚丽多彩，另一个各其他玩家能够进行丰富的互动且互动最好是没有时延。玩家参与游戏的整个过程如下图所示：

![](GameTotal.png)

在整个游戏过程中影响游戏时延的大概有四个因素：客户端业务处理和图像计算，网络通信，服务器端业务复杂度，数据存储。其中，一般游戏上线之前，会对客户端处理做很多优化；网络通信这块现在有很多成熟的通信方案，比如kcp,enet；业务是游戏内容，这个一般也会通过业务拆分的方式降低响应时间；当然，数据存储根据不同游戏类型，也有些比较成熟的解决方案。本篇文章就游戏中数据存储问题进行详细展开

首先，游戏数据存储需要考虑的问题有：

1. **内存中的数据该如何组织**
2. **该使用什么类型的数据库** 比如该使用关系型数据库还是key/value数据库或其他类型的数据库
3. **内存中的数据该如何落地到数据库** 

在考虑以上三个问题之前，有以下几条原则需要考虑：

1. **一致性（数据完整性）原则** 玩家真实数据和数据库中的数据最终需要保证一致性
2. **分析统计原则** 落地的数据可以支撑后台的数据分析和统计，不管是以什么方式支撑
3. **问题可追踪原则** 最终存储的数据可以完整支撑运营查找和解决线上数据问题，越方便越好
4. **快速响应原则** 数据存储的过程不应该对玩家请求的响应速度造成较大影响（最好没有影响）

# 内存中的数据该如何组织

因为一般网络

# 该使用什么类型的数据库

# 内存中的数据该如何落地到数据库

游戏中的数据存储始终是一个
简单说下游戏中数据存储需要解决的问题
腾讯云的游戏数据库TcaplusDB

讲解ET是如何进行数据存储的

# 参考资料
* [大数据时代的Tcaplus游戏存储](https://gameinstitute.qq.com/community/detail/102646)
* [游戏服务器的存储设计](https://www.jianshu.com/p/9436ee08895f)
* [游戏后台数据存储解决方案](https://www.jianshu.com/p/e857b49fc82f)
* [mmap和shm共享内存的区别和联系](https://www.cnblogs.com/cthon/p/9063841.html)
